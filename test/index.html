<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <title>留言板</title>
    	<meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- 
Power Template 
https://templatemo.com/tm-508-power
-->
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
        
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/font-awesome.css">
        <link rel="stylesheet" href="css/animate.css">
        <link rel="stylesheet" href="css/templatemo_misc.css">
        <link rel="stylesheet" href="css/templatemo_style.css">
        <link rel="stylesheet" href="css/owl-carousel.css">

        <script src="js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>
        <script src="index.js"></script>
        <style>
            
        * {
        margin: 0;
        padding: 0;
      }
      html, body {
                padding: 0;
                margin: 0;
                background-image:url("./img/background.jpg");
                background-size: cover;
            }
      input {
        font-size: 14px;
        line-height: 24px;
        color: #333;
        font-family: Microsoft yahei, Song, Arial, Helvetica, Tahoma, Geneva;
      }
      h1 {
        margin-bottom: 15px;
        height: 100px;
        line-height: 100px;
        text-align: center;
        font-size: 24px;
        color: #fff;
        background: black;
      }
      #content #post,
      #comment p {
        zoom: 1;
      }
      #content #post:after,
      #comment p:after {
        display: block;
        height: 0;
        clear: both;
        visibility: hidden;
        overflow: hidden;
        content: ".";
      }
      .transition {
        -webkit-transition: all 0.5s linear;
        -moz-transition: all 0.5s linear;
        -o-transition: all 0.5s linear;
        -ms-transition: all 0.5s linear;
        transition: all 0.5s linear;
      }
      #content {
        margin: 0 auto;
        width: 960px;
        overflow: hidden;
      }
      #content #post {
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 1px #d4d4d4 dashed;
        height: 556px;
      }
      #content #post textarea {
        display: block;
        margin-bottom: 10px;
        padding: 5px;
        width: 948px;
        height: 390px;
        border: 1px #d1d1d1 solid;
        border-radius: 5px;
        resize: none;
        outline: none;
        background: black;
        color: white;
      }
      #content #post textarea:hover {
        border: 1px #9bdf70 solid;
        
      }
      #content #post #postBt,
      #content #post #clearBt {
        margin-left: 5px;
        padding: 3px;
        float: right;
      }
      #comment {
        overflow: hidden;
      }
      #comment p {
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 5px;
      }
      #comment p:nth-child(odd) {
        border: 1px solid #e3e197;
        background: #ffd;
      }
      #comment p:nth-child(even) {
        border: 1px solid #adcd3c;
        background: black;
      }
      #comment  span{
          color: white;
      }
      #comment p .right {
        text-align: right;
      }
      #comment p .msg {
        width: 738px;
      }
      #comment p .datetime {
        width: 200px;
        color: #999;
        text-align: right;
      }      
        </style>
    </head>
    <body>
    </br></br></br></br></br></br></br></br>
    <div id="content">
        <div id="post">
          <div style="background: #3eadc5; height: 40px; width: 950px;">
            昵稱：<input
              type="submit"
              id="shangtian"
              name="Submit3"
              style="border: none; background-color: #3eadc5; color: white"
              value="默認用戶點擊改變"
              onclick="prom()"
            />
            <input
              type="text"
              id="ritian"
              style="border: none; background-color: #3eadc5; color: white"
              onclick="prom()"
            />
            <!--disabled="disabled"-->
          </div>
          <div>
            <textarea class="transition"></textarea>
          </div>
          <input
            id="postBt"
            type="button"
            style="
              border: none;
              background-color: #3eadc5;
              color: white;
              border-radius: 5px;
              width: 80px;
              height: 30px;
            "
            value="發表留言"
          />
          <input
            id="clearBt"
            type="button"
            style="
              border: none;
              background-color: #3eadc5;
              color: white;
              border-radius: 5px;
              width: 100px;
              height: 30px;
            "
            value="清空"
          />
        </div>
        <div id="comment"></div>
      </div>
            
        </div>
     
        <script >
            var named;
      function delete1(id) {
        localStorage.removeItem(id);
        this.Storage.writeData();
      }
      function prom() {
        var name = prompt("請輸入您的名字", ""); //將輸入的內容賦給變量 name ，
        named = name;
        //這里需要注意的是，prompt有兩個參數，前面是提示的話，后面是當對話框出來后，在對話框里的默認值

        if (named) {
          //如果返回的有內容

          alert("歡迎您：" + name);
          document.getElementById("shangtian").style.display = "none";
          document.getElementById("ritian").value = named;
        } else {
          document.getElementById("ritian").value = "匿名發言者";
        }
      }
      var Storage = {
        saveData: function () //保存數據
        {
          var data = document.querySelector("#post textarea");
          if (data.value != "") {
            var time = new Date().getTime() + Math.random() * 5; //getTime是Date對象中的方法，作用是返回 1970年01月01日至今的毫秒數
            if (named) {
              localStorage.setItem(
                time,
                data.value + "|" + named + "|" + this.getDateTime()
              ); //將毫秒數存入Key值中，可以降低Key值重復率
            } else {
              localStorage.setItem(
                time,
                data.value + "|" + "匿名發言者" + "|" + this.getDateTime()
              ); //將毫秒數存入Key值中，可以降低Key值重復率
            }

            data.value = "";
            this.writeData();
          } else {
            alert("請填寫您的留言！");
          }
        },
        writeData: function () //輸出數據
        {
          var dataHtml = "",
            data = "";
          for (
            var i = localStorage.length - 1;
            i >= 0;
            i-- //效率更高的循環方法
          ) {
            data = localStorage.getItem(localStorage.key(i)).split("|");

            //dataHtml += "<p><span class=\"msg\">" + data[0] + "</span><span class=\"datetime\">" + data[1] + "</span><span>" + data[2]+"</span></p>";
            dataHtml +=
              "<span style=>" +
              data[1] +
              '<span style="float:right">' +
              data[2] +
              '</span><p><span class="msg">' +
              data[0] +
              '<input style="float:right;border:none;border-radius:5px;" id="clearBt" type="button" onclick="delete1(' +
              localStorage.key(i) +
              ');" value="刪除"/>' +
              "</span></p>";
          }
          document.getElementById("comment").innerHTML = dataHtml;
        },
        clearData: function () //清空數據
        {
          if (localStorage.length > 0) {
            if (window.confirm("清空后不可恢復，是否確認清空？")) {
              localStorage.clear();
              this.writeData();
            }
          } else {
            alert("沒有需要清空的數據！");
          }
        },
        getDateTime: function () //獲取日期時間，例如 2012-03-08 12:58:58
        {
          var isZero = function (
            num //私有方法，自動補零
          ) {
            if (num < 10) {
              num = "0" + num;
            }
            return num;
          };

          var d = new Date();
          return (
            d.getFullYear() +
            "-" +
            isZero(d.getMonth() + 1) +
            "-" +
            isZero(d.getDate()) +
            " " +
            isZero(d.getHours()) +
            ":" +
            isZero(d.getMinutes()) +
            ":" +
            isZero(d.getSeconds())
          );
        },
      };

      window.onload = function () {
        Storage.writeData(); //當打開頁面的時候，先將localStorage中的數據輸出一邊，如果沒有數據，則輸出空
        document.getElementById("postBt").onclick = function () {
          Storage.saveData();
        }; //發表評論按鈕添加點擊事件，作用是將localStorage中的數據輸出
        document.getElementById("clearBt").onclick = function () {
          Storage.clearData();
        }; //清空所有已保存的數據
      };
            
        </script>
        


        <div class="site-main" id="sTop">
            <div class="site-header">
                <div class="main-header">
                    <div class="container">
                        <div id="menu-wrapper">
                            <div class="row">
                                <nav class="navbar navbar-inverse" role="navigation">
                                    <div class="navbar-header">
                                        <button type="button" id="nav-toggle" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav">
                                            <span class="sr-only">Toggle navigation</span>
                                            <span class="icon-bar"></span>
                                            <span class="icon-bar"></span>
                                            <span class="icon-bar"></span>
                                        </button>
                                        <a href="#top" class="navbar-brand">Power</a>
                                        <div id="main-nav" class="collapse navbar-collapse">
                                            <ul class="menu-first nav navbar-nav" style="margin-right: 20px;">
                                                <li class="active"><a href="#">Home</a></li>
                                                <li><a href="#about">About Us</a></li>
                                                <li><a href="#portfolio">Portfolio</a></li>
                                                <li><a href="#blog">Blog Entries</a></li>
                                                <li><a href="https://www.google.com" class="external">External</a></li> 
                                                <li><a href="#contact-us">Contact</a></li>                                 
                                            </ul>                                    
                                        </div> <!-- /.main-menu -->
                                    </div>
                                </nav>
                            </div> <!-- /.row -->
                        </div> <!-- /#menu-wrapper -->                        
                    </div> <!-- /.container -->
                </div> <!-- /.main-header -->
            </div> <!-- /.site-header -->
        </div> <!-- /.site-main -->















        
    </body>
</html>